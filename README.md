# 仓储物资出入库模拟仿真系统

## 项目介绍
仓储物资出入库模拟仿真系统是一个基于Web的企业级综合管理系统，采用现代化的基于角色的权限管理架构(RBAC)，实现了完整的超市/仓库业务流程管理。系统支持多角色权限控制，提供直观的用户界面和完善的数据管理功能，涵盖进销存全流程管理。

## 系统特色

### 🔐 企业级权限管理系统
- **基于角色的访问控制(RBAC)**：17个细分功能权限，精确控制用户操作范围
- **多角色支持**：系统管理员、仓库管理员、销售经理、收银员等7种角色
- **权限继承机制**：灵活的角色权限分配和继承
- **安全审计**：完整的操作日志记录，支持安全审计和追溯

### 📊 完整的业务流程管理
- **进销存一体化**：从采购入库到销售出库的完整业务链闭环
- **质检管理流程**：支持入库商品质检，确保商品质量管控
- **库存智能管理**：实时库存监控、自动预警、批次管理
- **财务数据分析**：多维度统计报表，支持经营决策

## 主要功能模块

### 🏢 基础信息管理
- **商品信息管理**：商品基本信息、价格体系、库存管理、分类管理
- **员工信息管理**：员工档案、职位管理、权限分配
- **客户信息管理**：客户资料、VIP等级管理、消费记录
- **供应商信息管理**：供应商档案、联系方式、合作评估
- **用户权限管理**：系统用户账号、角色权限分配、权限审计

### 📦 进货管理
- **入库登记**：采购订单管理、入库单据生成、自动库存更新
- **入库查询**：多条件查询入库记录（日期、供应商、商品等）
- **采购统计**：采购成本分析、供应商绩效评估、采购趋势分析

### 🔍 质检管理
- **入库质检**：新增商品质检流程，支持质检标准设置
- **质检记录管理**：质检结果记录、质检人员管理、质检报告
- **不合格品处理**：支持退货流程、报废处理、质检统计

### 📊 库存管理
- **实时库存查询**：多维度库存查询（商品、类别、状态、批次）
- **库存盘点**：系统化盘点流程、差异分析、自动库存调整
- **出库管理**：商品出库操作、出库策略配置（FIFO/LIFO）
- **库存预警**：智能库存预警、自动补货提醒、库存报表

### 💰 销售管理
- **销售开单**：多商品销售、客户选择、优惠计算、实时库存验证
- **销售查询**：销售记录查询、销售统计分析、客户消费分析
- **销售退货**：完整的退货流程、自动库存恢复、退货统计

### 📈 财务统计
- **当日统计**：实时销售额、利润分析、订单统计、商品排行
- **月度统计**：月度销售趋势、收入分析、同比环比分析
- **高级分析**：库存周转率、毛利率分析、经营指标看板
- **报表导出**：支持Excel、PDF格式导出

### 🔒 系统安全
- **操作日志**：详细记录用户操作行为，支持审计追踪
- **权限控制**：页面级和API级双重权限验证
- **数据安全**：数据库事务保护、操作回滚机制

## 技术架构

### 前端技术栈
- **核心技术**：HTML5 + CSS3 + 原生JavaScript
- **UI框架**：Bootstrap 5 响应式框架
- **图表组件**：Chart.js 数据可视化
- **架构模式**：SPA单页应用架构

### 后端技术栈
- **运行环境**：Node.js 14.0+
- **Web框架**：Express.js RESTful API
- **数据库**：MySQL 5.7+ 关系型数据库
- **连接池**：MySQL连接池优化性能

### 系统特性
- **响应式设计**：支持PC端和移动端自适应
- **模块化架构**：便于功能扩展和系统维护
- **高可用性**：数据库连接池、错误处理机制
- **安全防护**：SQL注入防护、XSS攻击防护

## 数据库设计

系统包含**28个核心数据表**，采用规范化设计：

### 核心业务表
- **product**：商品基础信息表（商品名称、价格、分类、规格）
- **purchase/purchasedetail**：采购主表和明细表
- **sale/saledetail**：销售主表和明细表
- **inventory**：库存信息表（实时库存、安全库存）
- **stockcheck/stockcheckdetail**：库存盘点主表和明细表

### 质检出库表
- **qualityinspection/qualityinspectiondetail**：质检主表和明细表
- **outbound/outbounddetail**：出库主表和明细表
- **batchstock**：批次库存管理表

### 权限管理表
- **users**：用户基础信息表
- **roles**：角色定义表（7种系统角色）
- **permissions**：权限定义表（17个功能权限）
- **userroles**：用户角色关联表
- **rolepermissions**：角色权限关联表

### 基础数据表
- **customer**：客户信息表（VIP状态、联系方式）
- **supplier**：供应商信息表
- **employee**：员工信息表
- **operationlogs**：操作日志表
- **financialreport**：财务报表表

## 权限体系架构

### 角色层次结构
```
系统管理员 (admin) ─── 拥有所有权限
├── 仓库管理员 (warehouse_manager/warehouse) ─── 库存、进货、质检、出库
├── 销售经理 (sales_manager/sales) ─── 销售、客户、统计
└── 收银员 (cashier) ─── 销售开单、客户管理
```

### 功能权限矩阵
| 权限模块 | 管理员 | 仓库管理员 | 销售经理 | 收银员 |
|----------|--------|------------|----------|--------|
| 基础信息管理 | ✅ | 商品+供应商 | 商品+客户 | 客户 |
| 进货管理 | ✅ | ✅ | ❌ | ❌ |
| 质检管理 | ✅ | ✅ | ❌ | ❌ |
| 库存管理 | ✅ | ✅ | ❌ | ❌ |
| 出库管理 | ✅ | ✅ | ❌ | ❌ |
| 销售管理 | ✅ | ❌ | ✅ | ✅ |
| 财务统计 | ✅ | ❌ | ✅ | ❌ |
| 系统管理 | ✅ | ❌ | ❌ | ❌ |

## 安装部署

### 环境要求
- **Node.js**: 14.0+ 版本
- **MySQL**: 5.7+ 版本
- **操作系统**: Windows/Linux/macOS

### 快速安装

1. **获取项目代码**
   ```bash
   git clone https://github.com/Liangxianguang/warehouse-management-system.git
   cd warehouse-management-system
   ```

2. **安装项目依赖**
   ```bash
   npm install
   ```

3. **数据库初始化**
   ```bash
   # 登录MySQL
   mysql -u root -p
   
   # 创建数据库
   CREATE DATABASE supermarket_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   
   # 导入完整数据库（包含表结构和示例数据）
   mysql -u root -p supermarket_db < database_backup.sql
   ```

4. **系统配置**
   修改 `api/server.js` 中的数据库连接配置：
   ```javascript
   const pool = mysql.createPool({
       host: 'localhost',
       user: 'root',
       password: 'your_mysql_password',
       database: 'supermarket_db',
       acquireTimeout: 60000,
       timeout: 60000
   });
   ```

5. **启动系统服务**
   ```bash
   # 启动后端服务
   node api/server.js
   
   # 访问系统 (默认端口3000)
   # 浏览器打开: http://localhost:3000
   ```

## 系统账号

| 角色类型 | 用户名 | 密码 | 权限说明 |
|----------|--------|------|----------|
| **系统管理员** | admin | admin123 | 全部功能权限 |
| **仓库管理员** | warehouse | wh123 | 库存、进货、质检管理 |
| **销售经理** | sales | sales123 | 销售、客户、统计管理 |
| **收银员** | cashier1 | cashier123 | 销售开单、客户管理 |

## 功能开发状态

### ✅ 已完成功能
- [x] 完整的RBAC权限管理系统
- [x] 基础信息管理（商品、员工、客户、供应商）
- [x] 进销存核心业务流程
- [x] 质检管理功能模块
- [x] 库存盘点和预警系统
- [x] 销售管理和退货流程
- [x] 财务统计和报表分析
- [x] 操作日志和安全审计
- [x] 出库管理功能

### 🚧 优化改进中
- [ ] 移动端界面优化
- [ ] 批次管理功能完善
- [ ] 高级报表分析
- [ ] 系统性能优化

### 📋 后续规划
- [ ] 数据导入导出功能
- [ ] 库存自动补货系统
- [ ] 供应商绩效评估
- [ ] 微信小程序端
- [ ] API接口文档完善

## 系统截图展示

### 主界面仪表板
- 现代化响应式设计界面
- 实时业务数据统计面板
- 快捷功能操作入口

### 权限管理界面
- 直观的角色权限分配
- 用户角色管理功能
- 操作日志查询界面

### 核心业务功能
- 商品进货管理界面
- 库存盘点操作界面
- 销售统计图表展示

## 技术支持与联系

- **项目仓库**: [GitHub](https://github.com/Liangxianguang/warehouse-management-system)
- **技术支持**: 2811306715@qq.com
- **问题反馈**: 通过GitHub Issues提交
- **开发文档**: 详见项目Wiki

## 开源协议

本项目采用 MIT 开源协议，详见 [LICENSE](LICENSE) 文件。

## 版权信息

© 2025 仓储物资出入库模拟仿真系统 版权所有

---

**💡 提示**: 本系统适用于学习研究和中小企业仓储管理，生产环境部署前请进行充分的安全测试和性能评估。